(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{D0JA:function(e,t,r){"use strict";r.r(t);var s=r("e7F3"),n=r("L2JU"),o={methods:{readFileContent:function(e){var t=new FileReader;return new Promise((function(r,s){t.onload=function(e){return r(e.target.result)},t.onerror=function(e){return s(e)},t.readAsText(e)}))},choosePassPic:function(){this.$refs.filePic.click()},readPassPicURL:function(e){var t=this,r=this.$refs.filePic.files;if(r&&r[0]){var s=new FileReader;s.onload=function(e){t.form.imgUrl=e.target.result},s.readAsDataURL(r[0]),this.$emit("input",r[0])}},readFileUrl:function(e){var t=this,r=this.$refs.doc_file[e].files;if(r&&r[0]){var s=new FileReader;s.onload=function(r){t.form.documents[e].file=r.target.result},s.readAsDataURL(r[0]),this.$emit("input",r[0])}}}};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={name:"Profile",components:{ValidationObserver:s.a,ValidationProvider:s.b},mixins:[o],data:function(){return i({pageTitle:"Profile"},{processing:!1,form:{name:"",number:"",password:"",password_confirmation:"",imgUrl:""}})},methods:i(i({},Object(n.b)(["save"])),{},{submit:function(){var e=this;this.processing=!0,this.save({url:"users/".concat(this.authUser.id),data:this.form,method:"patch"}).then((function(){requestAnimationFrame((function(){e.$refs.observer.reset()}))})).catch((function(){e.$refs.observer.setErrors(e.server_errors),e.$Progress.fail()})).finally((function(){e.processing=!1}))}}),mounted:function(){var e=this;this.$store.dispatch("SET_AUTH_USER").then((function(){e.form=i({},e.authUser),e.authUser.imgUrl&&(e.form.imgUrl="/storage".concat(e.authUser.imgUrl))}))}},u=r("KHd+"),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main-content",{scopedSlots:e._u([{key:"left",fn:function(){return[r("i",{staticClass:"fa fa-user mr-3"}),e._v("Profile\n  ")]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])},[e._v(" "),e._v(" "),r("div",{staticClass:"col-md-8 offset-2"},[r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.invalid,n=t.passes;return[r("form",{on:{submit:function(t){return t.preventDefault(),e.submit(n)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"surname"}},[e._v("\n            Name\n            "),r("span",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),r("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Name",type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"phone"}},[e._v("\n            Phone\n            "),r("span",{staticClass:"text-danger"},[e._v("*")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.number,expression:"form.number"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Phone Number",readonly:"",type:"text"},domProps:{value:e.form.number},on:{input:function(t){t.target.composing||e.$set(e.form,"number",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Password"}},[e._v("Password")]),e._v(" "),r("validation-provider",{attrs:{name:"Password",rules:"min:8",vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Password",type:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Password Confirmation"}},[e._v("Password Confirmation")]),e._v(" "),r("validation-provider",{attrs:{name:"Password Confirmation",rules:"confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Password Confirmation",type:"password"},domProps:{value:e.form.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.form,"password_confirmation",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}],null,!0)})],1),e._v(" "),r("ValidationProvider",{attrs:{rules:"image",name:"imgUrl"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.validate,n=t.errors;return[r("div",{staticClass:"text-center"},[r("img",{staticStyle:{display:"block",cursor:"pointer",margin:"0 auto"},attrs:{id:"imgUrl",src:e.form.imgUrl||"/images/no-image.jpg",width:"150",height:"auto",alt:"no image"},on:{click:e.choosePassPic}}),e._v(" "),r("input",{ref:"filePic",staticClass:"custom-file-input",attrs:{type:"file"},on:{change:s,input:e.readPassPicURL}})]),e._v(" "),r("span",{staticClass:"text-danger text-center"},[e._v(e._s(n[0]))])]}}],null,!0)}),e._v(" "),r("button",{staticClass:"mb-5 btn btn-warning btn-block btn-flat",attrs:{disabled:s||e.processing,type:"submit"}},[e._v(e._s(e.processing?"Processing...":"Update Profile"))])],1)]}}])})],1)])}),[],!1,null,null,null);t.default=f.exports}}]);
//# sourceMappingURL=profile.js.map