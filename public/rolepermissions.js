(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{CL2R:function(t,e,s){"use strict";var r=s("cV4x");s.n(r).a},HTeK:function(t,e,s){var r=s("M3lU");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(r,i);r.locals&&(t.exports=r.locals)},JvGL:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.image-input[data-v-6aa4cf56] {\n  cursor: pointer;\n}\n",""])},M3lU:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n.image-input[data-v-535359e1] {\n  cursor: pointer;\n}\n",""])},cV4x:function(t,e,s){var r=s("JvGL");"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(r,i);r.locals&&(t.exports=r.locals)},egdP:function(t,e,s){"use strict";s.r(e);var r=s("L2JU"),i=s("e7F3");function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){o(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function o(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var l={name:"Permissions",data:function(){return n({pageTitle:"Permissions",newPilgrim:!1},{processing:!1,form:{name:"",permissions:[]}})},components:{ValidationObserver:i.a,ValidationProvider:i.b},computed:n({},Object(r.c)(["getPermissions","getRole"])),methods:n(n({},Object(r.b)(["save","FETCH_ROLES_PERMISSIONS"])),{},{hide:function(){$("#permissions").modal("hide")},submit:function(){var t=this;this.processing=!0,this.getRole.permissions=this.permissions,this.save({url:"roles/".concat(this.getRole.id),method:"PATCH",data:this.form}).then((function(){t.hide(),t.FETCH_ROLES_PERMISSIONS()})).catch((function(){t.$Progress.fail()})).finally((function(){t.processing=!1,t.$Progress.finish()}))},onModalShow:function(t){var e=this;$(t).on("show.bs.modal",(function(t){var s=e.getRole.permissions.map((function(t){return t.name}));e.form.permissions=s,e.form.name=e.getRole.name}))}}),mounted:function(){this.onModalShow("#permissions")},created:function(){}},c=(s("CL2R"),s("KHd+")),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"permissions",tabindex:"-1",role:"dialog","aria-labelledby":"permissionsLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"permissionsLabel"}},[t._v(t._s(t.pageTitle)+" : "+t._s(t.getRole.name))]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.hide}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid,i=e.passes;return[s("form",{on:{submit:function(e){return e.preventDefault(),i(t.submit)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"role"}},[t._v("\n                      Role\n                      "),s("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),s("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Role",type:"text",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),s("span",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1),t._v(" "),s("table",{staticClass:"table table-bordered table-striped"},[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"50"}},[s("input",{staticClass:"check-select-all-p",attrs:{type:"checkbox"}})])])]),t._v(" "),s("tbody",t._l(t.getPermissions,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",{staticClass:"text-center",attrs:{width:"50"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.permissions,expression:"form.permissions"}],staticClass:"check-select-p",attrs:{type:"checkbox",id:e.id},domProps:{value:e.name,checked:Array.isArray(t.form.permissions)?t._i(t.form.permissions,e.name)>-1:t.form.permissions},on:{change:function(s){var r=t.form.permissions,i=s.target,a=!!i.checked;if(Array.isArray(r)){var n=e.name,o=t._i(r,n);i.checked?o<0&&t.$set(t.form,"permissions",r.concat([n])):o>-1&&t.$set(t.form,"permissions",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.form,"permissions",a)}}})])])})),0)]),t._v(" "),s("ul",{staticClass:"nav mb-5"},[s("li",{staticClass:"nav-item ml-5"},[s("button",{staticClass:"btn btn-success",attrs:{disabled:r||t.processing,type:"submit"}},[s("i",{staticClass:"fas fa-save mr-2"}),t._v(t._s(t.processing?"Processing...":"Submit")+"\n                  ")])])])])]}}])})],1)])])])])])])])}),[],!1,null,"6aa4cf56",null).exports;function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var p={name:"Role",data:function(){return m({pageTitle:"Add Role"},{processing:!1,form:{name:"",permissions:[]}})},components:{ValidationObserver:i.a,ValidationProvider:i.b},computed:m({},Object(r.c)(["getPermissions","getRole"])),methods:m(m({},Object(r.b)(["save","FETCH_ROLES_PERMISSIONS"])),{},{hide:function(){$("#role").modal("hide")},resetForm:function(){Object.assign(this.$data,{processing:!1,form:{name:"",permissions:[]}})},submit:function(){var t=this;this.$Progress.start(),this.processing=!0,this.save({url:"roles",data:this.form}).then((function(){t.FETCH_ROLES_PERMISSIONS(),t.resetForm(),t.hide()})).catch((function(){t.$Progress.fail()})).finally((function(){t.processing=!1,t.$Progress.finish()}))}})};s("jwdf");function v(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?v(Object(s),!0).forEach((function(e){h(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function h(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var g={data:function(){return{pageTitle:"Role & Permissions"}},components:{Permissions:d,Role:Object(c.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"role",tabindex:"-1",role:"dialog","aria-labelledby":"roleLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"roleLabel"}},[t._v(t._s(t.pageTitle))]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.hide}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid,i=e.passes;return[s("form",{on:{submit:function(e){return e.preventDefault(),i(t.submit)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"role"}},[t._v("\n                        Role\n                        "),s("span",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),s("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control input-sm",attrs:{placeholder:"Enter Role",type:"text",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),s("span",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1),t._v(" "),s("table",{staticClass:"table table-bordered table-striped"},[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"50"}},[s("input",{staticClass:"check-select-all-p",attrs:{type:"checkbox"}})])])]),t._v(" "),s("tbody",t._l(t.getPermissions,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",{staticClass:"text-center",attrs:{width:"50"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.permissions,expression:"form.permissions"}],staticClass:"check-select-p",attrs:{type:"checkbox",id:e.id},domProps:{value:e.name,checked:Array.isArray(t.form.permissions)?t._i(t.form.permissions,e.name)>-1:t.form.permissions},on:{change:function(s){var r=t.form.permissions,i=s.target,a=!!i.checked;if(Array.isArray(r)){var n=e.name,o=t._i(r,n);i.checked?o<0&&t.$set(t.form,"permissions",r.concat([n])):o>-1&&t.$set(t.form,"permissions",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.form,"permissions",a)}}})])])})),0)]),t._v(" "),s("ul",{staticClass:"nav mb-5"},[s("li",{staticClass:"nav-item ml-5"},[s("button",{staticClass:"btn btn-success",attrs:{disabled:r||t.processing,type:"submit"}},[s("i",{staticClass:"fas fa-save mr-2"}),t._v(t._s(t.processing?"Proccessing...":"Submit")+"\n                        ")])])])])]}}])})],1)])])])])])])])}),[],!1,null,"535359e1",null).exports},computed:b({},Object(r.c)(["getRoles"])),methods:b(b({},Object(r.b)(["FETCH_ROLES_PERMISSIONS","deleteItem"])),{},{showRole:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&this.$store.commit("SET_ROLE",e),this.showModal(t)},deleteRole:function(t){var e=this;swal.fire({title:"Deleting a role",text:"You are about to delete a role.  Do you want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(s){s.value&&e.deleteItem({url:"roles/"+t}).then((function(){e.FETCH_ROLES_PERMISSIONS()})).catch((function(){e.$Progress.fail()}))}))}}),created:function(){this.FETCH_ROLES_PERMISSIONS()}},_=Object(c.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-content",{scopedSlots:t._u([{key:"left",fn:function(){return[s("i",{staticClass:"fa fa-pray mr-2"}),t._v("\n    "+t._s(t.pageTitle)+"\n  ")]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])},[t._v(" "),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"d-inline-block"},[s("h3",{staticClass:"card-title"},[s("span",{staticClass:"d-none d-md-block float-left"},[t._v(t._s(this.pageTitle))])])]),t._v(" "),s("div",{staticClass:"d-inline-block float-right"},[s("button",{staticClass:"text-white btn btn-success btn-sm",on:{click:function(e){return e.preventDefault(),t.showModal("#role")}}},[s("i",{staticClass:"fa fa-plus"}),t._v(" Add New Role\n          ")])])]),t._v(" "),s("div",{staticClass:"card-body"},[s("table",{staticClass:"table table-bordered table-hover",attrs:{id:"example2"}},[s("thead",[s("tr",[s("th",[t._v("Admin Role")]),t._v(" "),s("th",[t._v("Permission")]),t._v(" "),s("th",{attrs:{width:"200"}},[t._v("Action")])])]),t._v(" "),s("tbody",t._l(t.getRoles,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-info btn-xs mr5",on:{click:function(s){return t.showRole("#permissions",e)}}},[s("i",{staticClass:"fas fa-2x fa-sliders-h"})])]),t._v(" "),s("td",[s("button",{staticClass:"text-white btn btn-danger btn-xs",on:{click:function(s){return t.deleteRole(e.id)}}},[s("i",{staticClass:"fa fa-trash"})])])])})),0)])])])]),t._v(" "),s("Permissions"),t._v(" "),s("Role")],1)}),[],!1,null,null,null);e.default=_.exports},jwdf:function(t,e,s){"use strict";var r=s("HTeK");s.n(r).a}}]);
//# sourceMappingURL=rolepermissions.js.map